---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";

// Helper to handle base path
const base = import.meta.env.BASE_URL || '/';
const withBase = (path: string) => base === '/' ? path : base.replace(/\/$/, '') + path;
const companyLogos = [
  { src: withBase('/logos/aws.svg'), alt: 'Amazon Web Services logo' },
  { src: withBase('/logos/samsung-sds.svg'), alt: 'Samsung SDS logo' },
  { src: withBase('/logos/american-express.svg'), alt: 'American Express logo' },
];
---

<BaseLayout sideBarActiveItemID="home">
  <div class="py-8 sm:py-12 text-center">
    <h1 class="text-5xl md:text-6xl font-bold">Ena Kovac</h1>
    <div class="mt-3 text-xl md:text-2xl font-mono text-base-content/70">&lt;Hello World /&gt;</div>
    <p class="mt-8 mx-auto max-w-2xl text-lg leading-relaxed">
      I’m a Computer Science student at Cornell Engineering with a minor in Artificial Intelligence.
      I’m an incoming Software Development Engineer at Amazon Web Services, and previously worked at Samsung SDS and American Express.
      I enjoy backend development, automation, and building software that solves real problems simply and reliably.
    </p>
  </div>
  <!-- Projects removed from home page per user request -->

  <div class="mt-6 py-4">
    <div class="max-w-4xl mx-auto flex flex-col items-center">
      <div class="w-full flex justify-center">
        <img
          id="companyLogo"
          src={companyLogos[0].src}
          alt={companyLogos[0].alt}
          class="max-h-16 w-auto object-contain transition-opacity duration-500"
          loading="lazy"
        />
      </div>
    </div>
  </div>

  <script type="application/json" id="companyLogoData">
    {JSON.stringify(companyLogos)}
  </script>
  <script is:inline>
    window.addEventListener('load', () => {
      const logoDataEl = document.getElementById('companyLogoData');
      const logoEl = document.getElementById('companyLogo');
      if (!logoDataEl || !logoEl) return;
      const logos = JSON.parse(logoDataEl.textContent || '[]');
      if (logos.length === 0) return;
      let index = 0;
      window.setInterval(() => {
        index = (index + 1) % logos.length;
        logoEl.classList.add('opacity-0');
        window.setTimeout(() => {
          logoEl.src = logos[index].src;
          logoEl.alt = logos[index].alt;
          logoEl.classList.remove('opacity-0');
        }, 250);
      }, 3000);
    });
  </script>
</BaseLayout>
